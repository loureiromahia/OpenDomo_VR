#!/bin/bash
read ESPEAK < /etc/opendomo/speech/espeak.dat
if [ "$1" = "0" ]
then
	# This option, restarts MENU, to the first level	
	/usr/local/opendomo/vr/espeak.sh Menu0
	echo "menu0" > MENU
else
	read menu < MENU
	case "$menu" in
	no)
		/usr/local/opendomo/vr/espeak.sh Menuno	
	menu0)
		case "$1" in
			1)
			/usr/local/opendomo/vr/espeak.sh Menu1
			echo "menu1" > MENU 
			;;
			2)
			/usr/local/opendomo/vr/espeak.sh Menu2
			echo "menu2" > MENU
			;; 
			3)
			/usr/local/opendomo/vr/espeak.sh Menu3
			echo "menu3" > MENU
			;;
			10)
			#10 ==> Volver. En este caso, como estamos en el Menu principal (Menu0) repetimos el mismo Menu0
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu0
			;;   
		esac
		;;
	menu1)
		case "$1" in
			1)
			#Listar controladores
			# Agrupar controladores por tipo, de acuerdo a lo que hay en AYUDA
			/usr/local/opendomo/vr/espeak.sh Menu11
			echo "menu11" > MENU
			;; 
			2)
			#Cambiar estado
			#Preguntar estado  y acabar
			/usr/local/opendomo/vr/espeak.sh Menu12
			echo "menu12" > MENU
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu1
			;;   

		esac
		;;
	menu11)
		case "$1" in
			1)
			#Luces
			# 
			/usr/local/opendomo/vr/espeak.sh Menu111
			echo "menu111" > MENU
			;; 
			2)
			#Clima
			# 
			/usr/local/opendomo/vr/espeak.sh Menu112
			echo "menu112" > MENU
			;; 
			3)
			#Musica
			# 
			/usr/local/opendomo/vr/espeak.sh Menu113
			echo "menu113" > MENU
			;; 
			4)
			#VideoVigilancia
			# 
			/usr/local/opendomo/vr/espeak.sh Menu114
			echo "menu114" > MENU
			;; 
			5)
			#Sensores
			# 
			/usr/local/opendomo/vr/espeak.sh Menu115
			echo "menu115" > MENU
			;; 
			6)
			#Termostatos
			# 
			/usr/local/opendomo/vr/espeak.sh Menu116
			echo "menu116" > MENU
			;; 
			7)
			#Reguladores de Luz
			# 
			/usr/local/opendomo/vr/espeak.sh Menu117
			echo "menu117" > MENU
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu1
			;;   

		esac
		;;
	menu12)
		case "$1" in
			1)
			#Pasar a modo activo
			#
			echo "Cambio de estado a modo activado: setSystemState.sh active"
			/usr/local/opendomo/vr/espeak.sh Menucambestactiv
			;; 
			2)
			#Pasar a modo vigilancia
			#
			echo "Cambio de estado a modo activado: setSystemState.sh secured"
			/usr/local/opendomo/vr/espeak.sh Menucambestvig
			;; 
			3)
			#Pasar a modo desactivado
			#Volver luego al menu anterior
			echo "Cambio de estado a modo activado: setSystemState.sh sleeping"
			/usr/local/opendomo/vr/espeak.sh Menucambestdesac
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu12
			;;   

		esac
		;;
	esac
fi

