#!/bin/bash
read ESPEAK < /etc/opendomo/speech/espeak.dat
if [ "$1" = "0" ]
then
	# This option, restarts MENU, to the first level	
	/usr/local/opendomo/vr/espeak.sh Menu0
	echo "menu0" > /usr/local/opendomo/vr/MENU
else
	read menu < /usr/local/opendomo/vr/MENU
	case "$menu" in
	no)
		/usr/local/opendomo/vr/espeak.sh MenuNo
		;;	
	menu0)
		case "$1" in
			1)
			/usr/local/opendomo/vr/espeak.sh Menu1e
			echo "menu1" > /usr/local/opendomo/vr/MENU 
			;;
			2)
			/usr/local/opendomo/vr/espeak.sh Menu2e
			echo "menu2" > /usr/local/opendomo/vr/MENU
			;; 
			3)
			/usr/local/opendomo/vr/espeak.sh Menu3e
			echo "menu3" > /usr/local/opendomo/vr/MENU
			;;
			10)
			#10 ==> Volver. En este caso, como estamos en el Menu principal (Menu0) repetimos el mismo Menu0
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > /usr/local/opendomo/vr/MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > /usr/local/opendomo/vr/MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu0
			;;   
		esac
		;;
	menu1)
		case "$1" in
			1)
			#Listar controladores
			# Agrupar controladores por tipo, de acuerdo a lo que hay en AYUDA
			/usr/local/opendomo/vr/espeak.sh Menu11e
			echo "menu11" > /usr/local/opendomo/vr/MENU
			;; 
			2)
			#Cambiar estado
			#Preguntar estado  y acabar
			/usr/local/opendomo/vr/espeak.sh Menu12e
			echo "menu12" > /usr/local/opendomo/vr/MENU
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > /usr/local/opendomo/vr/MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > /usr/local/opendomo/vr/MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu1e
			;;   

		esac
		;;
	menu11)
		case "$1" in
			1)
			#Luces
			# 
			/usr/local/opendomo/vr/espeak.sh Menu111e
			echo "menu111" > /usr/local/opendomo/vr/MENU
			;; 
			2)
			#Clima
			# 
			/usr/local/opendomo/vr/espeak.sh Menu112e
			echo "menu112" > /usr/local/opendomo/vr/MENU
			;; 
			3)
			#Musica
			# 
			/usr/local/opendomo/vr/espeak.sh Menu113e
			echo "menu113" > /usr/local/opendomo/vr/MENU
			;; 
			4)
			#VideoVigilancia
			# 
			/usr/local/opendomo/vr/espeak.sh Menu114e
			echo "menu114" > /usr/local/opendomo/vr/MENU
			;; 
			5)
			#Sensores
			# 
			/usr/local/opendomo/vr/espeak.sh Menu115e
			echo "menu115" > /usr/local/opendomo/vr/MENU
			;; 
			6)
			#Termostatos
			# 
			/usr/local/opendomo/vr/espeak.sh Menu116e
			echo "menu116" > /usr/local/opendomo/vr/MENU
			;; 
			7)
			#Reguladores de Luz
			# 
			/usr/local/opendomo/vr/espeak.sh Menu117e
			echo "menu117" > /usr/local/opendomo/vr/MENU
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu0
			echo "menu0" > /usr/local/opendomo/vr/MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > /usr/local/opendomo/vr/MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu11e
			;;   

		esac
		;;
	menu12)
		case "$1" in
			1)
			#Pasar a modo activo
			#
			/usr/local/opendomo/setSystemState.sh activ
			/usr/local/opendomo/vr/espeak.sh Menucambestactiv
			;; 
			2)
			#Pasar a modo vigilancia
			#
			/usr/local/opendomo/setSystemState.sh secured
			/usr/local/opendomo/vr/espeak.sh Menucambestvig
			;; 
			3)
			#Pasar a modo desactivado
			#Volver luego al menu anterior
			/usr/local/opendomo/setSystemState.sh sleeping
			/usr/local/opendomo/vr/espeak.sh Menucambestdesac
			;; 
			10)
			#10 ==> Volver
			/usr/local/opendomo/vr/espeak.sh Menu1e
			echo "menu1" > /usr/local/opendomo/vr/MENU
			;;
			11)
			#11 ==> Salir del modo menú
			/usr/local/opendomo/vr/espeak.sh Menusalir
			echo "no" > /usr/local/opendomo/vr/MENU
			;;   
			else)
			#Opción no válida. Repetir opciones de menu, y quedarse en el mismo estado
			/usr/local/opendomo/vr/espeak.sh Menunoval Menu12
			;;   

		esac
		;;
	esac
fi

